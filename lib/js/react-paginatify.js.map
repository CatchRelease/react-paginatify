{"version":3,"sources":["../../src/js/paginatify.js"],"names":[],"mappings":"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","file":"react-paginatify.js","sourcesContent":["import React from 'react';\nimport cx from 'classnames';\n\nclass Paginatify extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.props = props;\n    this.state = {page: props.page};\n  }\n\n  componentWillReceiveProps(nextProps) {\n    if (nextProps.page !== this.state.page) {\n      this.setState({\n        page: nextProps.page\n      });\n    }\n  }\n\n  render() {\n    return (\n      <div className=\"paginatify\">\n\n        {\n          this.props.pages > 1 ?\n            this.getPreviousLink()\n            : null\n        }\n\n        {\n          this.getPageLinks()\n        }\n\n        {\n          this.props.pages > 1 ?\n            this.getNextLink()\n            : null\n        }\n\n      </div>\n    );\n\n  }\n\n  setPage(newPage, button, e) {\n    e.preventDefault();\n    let oldPage = this.state.page;\n    this.setState({\n      page: newPage\n    });\n    if (typeof this.props.onChange === 'function') {\n      this.props.onChange(newPage, oldPage, button);\n    }\n  }\n\n  getPageLinks() {\n    let output = [];\n\n    if (this.props.pages < 1) {\n      return output;\n    }\n\n    // if Total less than 2(Inner + Outer) + 5 AND NOT truncate short\n    if (this.props.truncateNever || (this.props.pages < 2 * (this.props.innerPadding + this.props.outerPadding) + 5 && !this.props.truncateShort)) {\n      // output 1 to Total\n      for (let i = 1; i <= this.props.pages; i++) {\n        output.push(this.getLinkToPage(i));\n      }\n      return output;\n    }\n\n    // if Page > Inner + Outer + 2\n    if (this.state.page > this.props.innerPadding + this.props.outerPadding + 2) {\n      // output 1 to Outer\n      for (let i = 1; i <= this.props.outerPadding; i++) {\n        output.push(this.getLinkToPage(i));\n      }\n      // output ...\n      output.push(this.getTruncator(1));\n      // output Page - Inner to Page - 1\n      for (let i = this.state.page - this.props.innerPadding; i <= this.state.page - 1; i++) {\n        output.push(this.getLinkToPage(i));\n      }\n    } else {\n      // output 1 to Page - 1\n      for (let i = 1; i <= this.state.page - 1; i++) {\n        output.push(this.getLinkToPage(i));\n      }\n    }\n\n    // output page\n    output.push(this.getLinkToPage(this.state.page));\n\n    // if Page < Total - (Inner + Outer + 1)\n    if (this.state.page < this.props.pages - this.props.innerPadding - this.props.outerPadding - 1) {\n      // output Page + 1 to Page + Inner\n      for (let i = this.state.page + 1; i <= this.state.page + this.props.innerPadding; i++) {\n        output.push(this.getLinkToPage(i));\n      }\n      // output ...\n      output.push(this.getTruncator(2));\n      // output Total - (Outer - 1) to Total\n      for (let i = this.props.pages - (this.props.outerPadding - 1); i <= this.props.pages; i++) {\n        output.push(this.getLinkToPage(i));\n      }\n    } else {\n      // output Page + 1 to Total\n      for (let i = this.state.page + 1; i <= this.props.pages; i++) {\n        output.push(this.getLinkToPage(i));\n      }\n    }\n\n    return output;\n  }\n\n\n  getPreviousLink() {\n    console.log('cx', cx('paginatify__link', 'paginatify__link--previous'));\n    return <a href=\"#\"\n              key=\"P\"\n              className={cx('paginatify__link', 'paginatify__link--previous', {'paginatify__link--disabled': this.state.page === 1})}\n              onClick={this.state.page !== 1 ? this.setPage.bind(this, this.state.page - 1, 'previous') : null}>\n      {this.props.prevLabel}\n    </a>;\n  }\n\n  getNextLink() {\n    return <a href=\"#\"\n              key=\"N\"\n              className={cx('paginatify__link', 'paginatify__link--next', {'paginatify__link--disabled': this.state.page === this.props.pages})}\n              onClick={this.state.page !== this.props.pages ? this.setPage.bind(this, this.state.page + 1, 'next') : null}>\n      {this.props.nextLabel}\n    </a>;\n  }\n\n  getLinkToPage(toPage) {\n    return <a href=\"#\"\n              key={toPage}\n              className={cx('paginatify__link', 'paginatify__link--page', {'paginatify__link--current': this.state.page === toPage})}\n              onClick={toPage !== this.state.page ? this.setPage.bind(this, toPage, 'page') : null}>\n      {toPage}\n    </a>;\n  }\n\n  getTruncator(key) {\n    return <span className=\"paginatify__truncation\"\n                 key={'T' + key}>\n      {this.props.truncateChar}\n    </span>;\n  }\n}\n\nPaginatify.propTypes = {\n  page: React.PropTypes.number.isRequired,\n  pages: React.PropTypes.number.isRequired,\n  onChange: React.PropTypes.func,\n  innerPadding: React.PropTypes.number,\n  outerPadding: React.PropTypes.number,\n  nextLabel: React.PropTypes.string,\n  prevLabel: React.PropTypes.string,\n  truncateChar: React.PropTypes.string,\n  truncateShort: React.PropTypes.bool,\n  truncateNever: React.PropTypes.bool\n};\n\nPaginatify.defaultProps = {\n  page: 1,\n  pages: 1,\n  onChange: null,\n  innerPadding: 1,\n  outerPadding: 1,\n  nextLabel: '>',\n  prevLabel: '<',\n  truncateChar: '…',\n  truncateShort: false,\n  truncateNever: false\n};\n\nexport default Paginatify;\n"]}